{"version":3,"sources":["../../src/tasks/image.js"],"names":["watch","require","imagemin","module","exports","cfg","gulp","task","src","dir_img","pipe","dest","dist"],"mappings":"AAAA;;AAKA;;;;;;AACA,IAAIA,QAAQC,QAAQ,YAAR,CAAZ;AACA,IAAIC,WAAWD,QAAQ,eAAR,CAAf;;AAEAE,OAAOC,OAAP,GAAiB,UAASC,GAAT,EAAcC,IAAd,EAAoB;AACnCA,OAAKC,IAAL,CAAU,UAAV,EAAsB,YAAW;AAC/B,WAAOD,KAAKE,GAAL,CAAS,CACTH,IAAII,OADK,gCAERJ,IAAII,OAFI,mBAGRJ,IAAII,OAHI,iBAAT,EAKJC,IALI,CAKC,yBAAM,EAACC,MAASN,IAAIO,IAAb,SAAD,EAAN,CALD,EAMJF,IANI,CAMCR,UAND,EAOJQ,IAPI,CAOCJ,KAAKK,IAAL,CAAaN,IAAIO,IAAjB,UAPD,CAAP;AAQD,GATD;AAWD,CAZD","file":"image.js","sourcesContent":["'use strict';\n/**\n * @author linjilin\n * @lastmodifiedDate 2016/07/15\n */\nimport newer from 'gulp-newer';\nvar watch = require('gulp-watch');\nvar imagemin = require('gulp-imagemin');\n\nmodule.exports = function(cfg, gulp) {\n  gulp.task('imagemin', function() {\n    return gulp.src([\n        `${cfg.dir_img}/**/*.{png,jpg,gif}`,\n        `!${cfg.dir_img}/slice`,\n        `!${cfg.dir_img}/slice/**/*`\n      ])\n      .pipe(newer({dest: `${cfg.dist}/img`}))\n      .pipe(imagemin())\n      .pipe(gulp.dest(`${cfg.dist}/img`))\n  });\n\n}\n"]}